{"version":3,"sources":["webpack:///webpack/bootstrap fa7fbbc28b6350da2a75","webpack:///external \"mongoose\"","webpack:///./server/db.js","webpack:///external \"express\"","webpack:///external \"webpack\"","webpack:///./server/server.js","webpack:///external \"socket.io\"","webpack:///external \"passport\"","webpack:///./server/passport/local-signup.js","webpack:///./server/Models/Users.js","webpack:///external \"bcryptjs\"","webpack:///external \"passport-local\"","webpack:///external \"source-map-support\"","webpack:///external \"body-parser\"","webpack:///./server/routes/api.js","webpack:///./server/Models/Games.js","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./webpack.config.js","webpack:///./server/routes/auth.js","webpack:///external \"validator\"","webpack:///./server/auth-check.js","webpack:///external \"jsonwebtoken\"","webpack:///./config/index.json"],"names":["connect","then","console","log","Promse","global","Promise","catch","err","install","app","use","static","json","initialize","process","env","NODE_ENV","webpack","require","webpackDevMiddleware","webpackHotMiddleware","config","entry","push","plugins","HotModuleReplacementPlugin","bundler","noInfo","server","listen","io","on","socket","id","data","emit","strat","usernameField","passwordField","session","passReqToCallback","req","username","password","done","newUser","save","UserSchema","Schema","String","methods","comparePassword","callback","compare","pre","saveHook","next","user","isModified","genSalt","saltError","salt","hash","hashError","model","router","Router","game","_id","players","get","res","find","games","params","status","send","post","newGame","owner","body","title","doc","msg","gameSchema","Game","module","exports","vendor","output","path","__dirname","filename","optimize","CommonsChunkPlugin","name","loaders","test","loader","query","presets","devServer","port","contentBase","proxy","target","devtool","authenticate","success","message","token","userData","authCheck","headers","authorization","split","verify","jwtSecret","decodedToken","userId","sub","findById","error"],"mappings":"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","file":"server.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fa7fbbc28b6350da2a75","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","import mongoose from 'mongoose';\r\n\r\nmongoose.connect('mongodb://localhost/genesis')\r\n.then( () => {\r\n    console.log('mongodb connected');\r\n    mongoose.Promse = global.Promise;\r\n}).catch(err => {\r\n    console.log('error connecting: ', err);\r\n});\r\n\r\nexport default mongoose;\n\n\n// WEBPACK FOOTER //\n// ./server/db.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 3\n// module chunks = 0","import socket from 'socket.io';\r\n\r\nimport passport from 'passport';\r\nimport localSignupStrategy from './passport/local-signup.js';\r\nimport localLoginStrategy from './passport/local-signup.js';\r\n\r\nimport express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport SourceMapSupport from 'source-map-support';\r\n\r\nimport authCheck from './auth-check.js';\r\nimport api from './routes/api.js';\r\nimport auth from './routes/auth.js';\r\n\r\n\r\n\r\nSourceMapSupport.install();\r\n\r\nlet app = express();\r\n\r\n//middleware\r\napp.use(express.static('static'));\r\napp.use(bodyParser.json());\r\napp.use(passport.initialize());\r\napp.use('./api', authCheck);\r\n\r\n\r\n//load strategies\r\npassport.use('local-signup', localSignupStrategy);\r\npassport.use('local-login', localLoginStrategy);\r\n\r\n\r\n//load routes\r\napp.use('/api', api );\r\napp.use('/auth', auth);\r\n\r\n\r\n//dev test\r\nif (process.env.NODE_ENV !== 'production') {\r\n    const webpack = require('webpack');\r\n    const webpackDevMiddleware = require('webpack-dev-middleware');\r\n    const webpackHotMiddleware = require('webpack-hot-middleware');\r\n\r\n    const config = require('../webpack.config');\r\n    config.entry.app.push('webpack-hot-middleware/client', 'webpack/hot/only-dev-server');\r\n    config.plugins.push(new webpack.HotModuleReplacementPlugin());\r\n\r\n    const bundler = webpack(config);\r\n\r\n    app.use(webpackDevMiddleware(bundler, {noInfo: true}));\r\n    app.use(webpackHotMiddleware(bundler, {log: console.log }))\r\n}\r\n\r\nvar server = app.listen(3000, function () {\r\n    console.log('App started at port 3000');\r\n});\r\n\r\nvar io = socket(server);\r\n\r\nio.on('connection' , (socket) => {\r\n    console.log('-----SOCKET PRINTING----');\r\n    console.log(socket.id);\r\n    socket.on('SEND_MESSAGE', function(data) {\r\n        io.emit('RECIEVE_MESSAGE', data);\r\n    })\r\n});\n\n\n// WEBPACK FOOTER //\n// ./server/server.js","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 6\n// module chunks = 0","\r\n// check to make sure i am doing somethign twice.. later after this is done\r\nimport User from '../Models/Users';\r\nimport {Strategy as PassportLocalStrategy}  from 'passport-local';\r\n\r\nconst strat = new PassportLocalStrategy({\r\n    usernameField: 'username',\r\n    passwordField: 'password',\r\n    session: false,\r\n    passReqToCallback: true\r\n},(req, username, password, done) => {\r\n    const newUser = new User({username: username, password: password});\r\n\r\n    newUser.save((err) => {\r\n        if (err) {return done(err);}\r\n\r\n        return done(null);\r\n    });\r\n});\r\n\r\nexport default strat;\n\n\n// WEBPACK FOOTER //\n// ./server/passport/local-signup.js","import db from '../db.js';\r\nimport mongoose from 'mongoose';\r\nimport bcrypt from 'bcryptjs';\r\n\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n    username: String,\r\n    password: String\r\n});\r\n\r\nUserSchema.methods.comparePassword = function comparePassword(password,callback) {\r\n    bcrypt.compare(password, this.password, callback);\r\n};\r\n\r\n\r\n\r\nUserSchema.pre('save', function saveHook(next) { \r\n    const user = this;\r\n\r\n    if(!user.isModified('password')) { return next()};\r\n\r\n    return bcrypt.genSalt((saltError, salt) => {\r\n        if (saltError) {return next(saltError); }\r\n\r\n        return bcrypt.hash(user.password, salt, (hashError, hash) => {\r\n            if(hashError) { return next(); }\r\n\r\n            user.password = hash;\r\n\r\n            return next();\r\n        });\r\n    });\r\n});\r\n\r\nexport default mongoose.model('User', UserSchema);\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/Models/Users.js","module.exports = require(\"bcryptjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcryptjs\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"source-map-support\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"source-map-support\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 12\n// module chunks = 0","import express from 'express';\r\nimport Game from '../Models/Games.js';\r\n\r\nconst router = express.Router();\r\n\r\nconst game = {\r\n    _id: '5a84d940441f6514587f40aa',\r\n    players: [\r\n        {\r\n            _id: 1,\r\n            username: 'Logan',\r\n        },\r\n\r\n        {\r\n            _id: 2,\r\n            username: 'Zach',\r\n        },\r\n\r\n        {\r\n            _id: 3,\r\n            username: 'James',\r\n        }\r\n    ]\r\n}\r\n\r\n\r\n\r\nrouter.get('/games', (req, res, next) => {\r\n   Game.find({}).then( function(games) {\r\n       console.log(games);\r\n       res.json(games);\r\n   })\r\n});\r\n\r\nrouter.get('/games/:id', (req,res,next) => {\r\n    if (req.params.id === game._id){\r\n        console.log('found the game mother fucker');\r\n        res.json(game);\r\n     } else {\r\n         console.log('gameID does not match');\r\n         res.status(500).send('game not found');\r\n     }\r\n\r\n});\r\n\r\nrouter.post('/games/create' , (req, res, next) => {\r\n   const newGame = new Game({owner: req.body.owner, title: req.body.title});\r\n    console.log('fuck me sideways');\r\n    newGame.save()\r\n    .then(doc => {\r\n        console.log(doc);\r\n        res.json({msg:'ok'});\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    })\r\n})\r\n\r\nexport default router;\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api.js","import db from '../db.js';\r\nimport mongoose from 'mongoose';\r\n\r\nconst Schema = mongoose.Schema;\r\n\r\nvar gameSchema = new Schema({\r\n    owner: String,\r\n    title: String\r\n});\r\n\r\n// gameSchema.statics.createGame = function(cb) {\r\n//     return this.model('Game').\r\n// }\r\n\r\nvar Game = mongoose.model('Game', gameSchema);\r\n\r\nmodule.exports = Game;\n\n\n// WEBPACK FOOTER //\n// ./server/Models/Games.js","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 16\n// module chunks = 0","const webpack = require('webpack');\r\n\r\nmodule.exports = {\r\n    entry: {\r\n        app: ['./src/index.jsx'],\r\n        vendor: ['react','react-dom','react-router','isomorphic-fetch','babel-polyfill', 'socket.io-client'],\r\n    },\r\n    output:{\r\n        path: __dirname + './static',\r\n        filename: 'app.bundle.js',\r\n    },\r\n    plugins: [\r\n        new webpack.optimize.CommonsChunkPlugin({name: 'vendor', filename: 'vendor.bundle.js'})\r\n    ],\r\n\r\n    module: {\r\n        loaders:[\r\n            {\r\n                test: /\\.jsx$/,\r\n                loader: 'babel-loader',\r\n                query: {\r\n                    presets: ['react', 'es2015'],\r\n                    plugins: ['transform-es2015-destructuring', 'transform-object-rest-spread']\r\n                }\r\n            },\r\n        ]\r\n    },\r\n\r\n    devServer: {\r\n        port: 8000,\r\n        contentBase: 'static',\r\n        proxy: {\r\n            '/api/*' : {\r\n                target: 'http://localhost:3000'\r\n            }\r\n        }\r\n    },\r\n\r\n    devtool: 'source-map'\r\n}\n\n\n// WEBPACK FOOTER //\n// ./webpack.config.js","import express from 'express';\r\nimport validator from 'validator';\r\nimport passport from 'passport';\r\n\r\nconst router = new express.Router();\r\n\r\n//probably a syntatical error here\r\n\r\nrouter.post('/signup', (req, res, next) => { \r\n passport.authenticate('local-signup', (err)=>{ \r\n        if(err) {\r\n            console.log(err);\r\n\r\n            res.status(400).json({\r\n                success:false,\r\n                message: 'error in signup post',\r\n            })\r\n        }\r\n\r\n        res.status(200).json({\r\n            success: true,\r\n            message: 'You have created a user'\r\n        });\r\n    })\r\n})\r\n\r\n\r\npassport.authenticate('local-login', passport.authenticate('local-login', (err, token, userData)=>{\r\n    if (err) {\r\n        console.log(err);\r\n        res.status(400).json({\r\n            success: false,\r\n            message: err.message\r\n        });\r\n    }\r\n\r\n    res.json({\r\n        success:true,\r\n        message: 'You have logged in',\r\n        token,\r\n        user:userData\r\n    });\r\n    \r\n}))\r\n\r\nexport default router;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/auth.js","module.exports = require(\"validator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validator\"\n// module id = 19\n// module chunks = 0","import jwt from 'jsonwebtoken';\r\nimport User from '../server/Models/Users.js';\r\nimport config from '../config/index.json';\r\n\r\n\r\nconst authCheck = (req, res, next) => {\r\n    if(!req.headers.authorization) {\r\n        res.status(401).send();\r\n    }\r\n\r\n    // this splits the value(token) part of the Authorization header\r\n    const token = req.headers.authorization.split(' ')[1];\r\n\r\n    jwt.verify(token, config.jwtSecret)\r\n    .then(decodedToken => {\r\n        const userId = decodedToken.sub;\r\n        \r\n        User.findById(userId)\r\n        .then(user => {\r\n            if(!user){\r\n                res.status(401).send();\r\n            }\r\n\r\n            //saves the decoded token information on the request object\r\n            //for user later on in the request life cycle\r\n            \r\n            req.user = user;\r\n            console.log(user);\r\n\r\n            next();\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n\r\n    })\r\n    .catch(error => {\r\n        res.status(401).send();\r\n    })    \r\n}\r\n\r\nexport default authCheck;\n\n\n// WEBPACK FOOTER //\n// ./server/auth-check.js","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 21\n// module chunks = 0","module.exports = {\"jwtSecret\":\"zack and logan\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/index.json\n// module id = 22\n// module chunks = 0"],"sourceRoot":""}